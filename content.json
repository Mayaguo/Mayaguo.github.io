{"meta":{"title":"GMaya","subtitle":"","description":"GMaya 个人博客","author":"GMaya","url":"https://gmaya.top","root":"/"},"pages":[{"title":"简单却不平凡","date":"2019-12-26T07:35:07.000Z","updated":"2020-01-14T02:19:43.741Z","comments":true,"path":"about/index.html","permalink":"https://gmaya.top/about/index.html","excerpt":"","text":"个人介绍&ensp;&ensp;一名来自河南的95后小伙，杭漂在外两年，目前主要负责项目后端技术开发，平时也写一点关于机器人的酷q插件（基于易语言），我想说的就是，我不穿格子衫，不掉头发！也没有秃顶！！喜欢打球，听歌，上网！如果您需要我的帮助：请联系扣扣：1427097103 博客介绍博客的存在，就是道理。记录平时工作上遇到的问题以及解决办法，希望能够帮助到遇到同样问题的伙伴。博客的主要内容就是Java方面，数据库方面，以及各种开发工具等等。。。"}],"posts":[{"title":"问答系统插件","slug":"0302","date":"2020-03-02T11:21:24.000Z","updated":"2020-03-02T08:23:55.676Z","comments":false,"path":"2020/03/02/0302/","link":"","permalink":"https://gmaya.top/2020/03/02/0302/","excerpt":"还在为了在群中回复大量重复的问题烦恼么？只要是固定的问题固定的答案，交给我！","text":"还在为了在群中回复大量重复的问题烦恼么？只要是固定的问题固定的答案，交给我！ 1. 介绍 主要解决在群内大量的重复问题和回答。 2. 亮点 支持分群（各个群互不影响）支持精确问/模糊问支持一个群多个主人支持问题换行支持问答开关在线更新（再也不用操心更新的问题了） 3. 演示 4. 获取蓝奏云下载 5. 特殊说明 插件使用需要获取激活码，请联系作者获取。两元永久","categories":[{"name":"酷q","slug":"酷q","permalink":"https://gmaya.top/categories/%E9%85%B7q/"}],"tags":[{"name":"酷q","slug":"酷q","permalink":"https://gmaya.top/tags/%E9%85%B7q/"},{"name":"插件","slug":"插件","permalink":"https://gmaya.top/tags/%E6%8F%92%E4%BB%B6/"}]},{"title":"酷q表情使用","slug":"0119","date":"2020-01-19T12:20:52.000Z","updated":"2020-03-02T08:11:25.893Z","comments":false,"path":"2020/01/19/0119/","link":"","permalink":"https://gmaya.top/2020/01/19/0119/","excerpt":"酷q表情整合，快速找到要使用的表情。","text":"酷q表情整合，快速找到要使用的表情。 1. 表情1在消息内添加 [CQ:face,id=XXX] 其中XXX为下面中的编号 例如你想添加微笑表情：[CQ:face,id=14][CQ:face,id=14][CQ:face,id=14] 结果就是三个微笑表情 2. 表情2在消息内添加 [CQ:emoji,id=XXX] 其中XXX为下面中的编号 例如你想添加雪花表情：[CQ:emoji,id=10052]","categories":[{"name":"酷q","slug":"酷q","permalink":"https://gmaya.top/categories/%E9%85%B7q/"}],"tags":[{"name":"工具类","slug":"工具类","permalink":"https://gmaya.top/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"},{"name":"酷q","slug":"酷q","permalink":"https://gmaya.top/tags/%E9%85%B7q/"}]},{"title":"Excel导出导入","slug":"0116","date":"2020-01-16T14:40:12.000Z","updated":"2020-01-16T06:16:04.795Z","comments":false,"path":"2020/01/16/0116/","link":"","permalink":"https://gmaya.top/2020/01/16/0116/","excerpt":"快速、简单避免OOM的java处理Excel工具，64M内存1分钟内读取75M(46W行25列)的Excel。","text":"快速、简单避免OOM的java处理Excel工具，64M内存1分钟内读取75M(46W行25列)的Excel。 1. EasyExcel介绍1.1 为什么使用EasyExcel？ Java解析、生成Excel比较有名的框架有Apache poi、jxl。但他们都存在一个严重的问题就是非常的耗内存，poi有一套SAX模式的API可以一定程度的解决一些内存溢出的问题，但POI还是有一些缺陷，比如07版Excel解压缩以及解压后存储都是在内存中完成的，内存消耗依然很大。easyexcel重写了poi对07版Excel的解析，能够原本一个3M的excel用POI sax依然需要100M左右内存降低到几M，并且再大的excel不会出现内存溢出，03版依赖POI的sax模式。在上层做了模型转换的封装，让使用者更加简单方便 写的内容大致和阅读官方文档差不多 2. 开始使用2.1 引入jar123456789101112&lt;!--easyexcel插件 --&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;easyexcel&lt;/artifactId&gt; &lt;version&gt;2.1.4&lt;/version&gt;&lt;/dependency&gt;&lt;!--lombok插件--&gt;&lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt; 2.2 实体类根据自己的情况自定义表格导入导出实体类 12345678910111213141516171819202122232425262728293031323334353637package top.gmaya.demo.excelentity;import com.alibaba.excel.annotation.ExcelIgnore;import com.alibaba.excel.annotation.ExcelProperty;import com.alibaba.excel.annotation.format.DateTimeFormat;import com.alibaba.excel.annotation.write.style.ColumnWidth;import lombok.Data;import java.util.Date;/** * @ Description : 用户表格专用实体 * @ Author : GMaya * @ CreateDate : 2020/1/16 9:13 * @ Version : 1.0 */@Datapublic class UserExcel&#123; /** 生成报表时忽略，不生成次字段 */ @ExcelIgnore private Long id; /** 定义表头名称和位置,0代表第一列 */ @ExcelProperty(value = \"用户名称\",index = 0) private String userName; @ExcelProperty(value = \"用户年龄\",index = 1) private int userAge; @ExcelProperty(value = \"用户昵称\",index = 2) private String userNick; @ExcelProperty(value = \"用户地址\",index = 3) private String userAddress; /** 指定列宽 */ @ColumnWidth(20) /** 转化时间 */ @DateTimeFormat(value = \"yyyy-MM-dd\") @ExcelProperty(value = \"用户生日\",index = 4) private Date userBrithday;&#125; 2.3 ExcelUtil工具类根据实际情况封装成工具类，我就写了俩 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950package top.gmaya.demo.util;import com.alibaba.excel.EasyExcel;import com.alibaba.excel.read.listener.ReadListener;import com.alibaba.excel.support.ExcelTypeEnum;import org.springframework.web.multipart.MultipartFile;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.net.URLEncoder;import java.util.List;/** * @ Description : excel工具类 * @ Author : GMaya * @ CreateDate : 2020/1/16 9:35 * @ Version : 1.0 */public class ExcelUtil &#123; /** * 导出文件 到浏览器 * @param response 响应请求 * @param excelName excel名称 * @param sheetName sheet页面名称 * @param clazz 要转换的实体类类型 * @param data 要导出的数据 * @throws Exception 异常 */ public static void export2Web(HttpServletResponse response, String excelName, String sheetName, Class clazz, List data) throws Exception &#123; response.setContentType(\"application/vnd.ms-excel\"); response.setCharacterEncoding(\"utf-8\"); // 这里URLEncoder.encode可以防止中文乱码 excelName = URLEncoder.encode(excelName, \"UTF-8\"); response.setHeader(\"Content-disposition\", \"attachment;filename=\" + excelName + ExcelTypeEnum.XLSX.getValue()); EasyExcel.write(response.getOutputStream(), clazz).sheet(sheetName).doWrite(data); &#125; /** * 读取Excel表格 * @param excel 文件 * @param head 实体类映射 * @param readListener 模板的读取类 * @throws Exception */ public static void readExcel(MultipartFile excel, Class head,ReadListener readListener) throws Exception&#123; EasyExcel.read(excel.getInputStream(),head,readListener).sheet().doRead(); &#125;&#125; 2.4 模板读取类创建模板读取类， 这个是表格导入的时候需要的，表格中的数据将在这个类里面单独处理，根据类里面设置的数值进行存库，也就是10w条数据，每当1000条就存一下表，方便内存回收。 不然一次性读10w，要占多少。。。实际情况将下面的构造方法注释打开，相当于你在controller中调用，然后将Service传进来就ok了。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374package top.gmaya.demo.excelentity;import com.alibaba.excel.context.AnalysisContext;import com.alibaba.excel.event.AnalysisEventListener;import lombok.extern.slf4j.Slf4j;import java.util.ArrayList;import java.util.List;/** * @ Description : 模板的读取类 * @ Author : GMaya * @ CreateDate : 2020/1/16 10:43 * @ Version : 1.0 */// 有个很重要的点 UserListener 不能被spring管理，要每次读取excel都要new,然后里面用到spring可以构造方法传进去@Slf4j public class UserListener extends AnalysisEventListener&lt;UserExcel&gt; &#123; /** * 每隔5条存储数据库，实际使用中可以3000条，然后清理list ，方便内存回收 */ private static final int BATCH_COUNT = 5; List&lt;UserExcel&gt; list = new ArrayList&lt;&gt;(); /** * 假设这个是一个DAO，当然有业务逻辑这个也可以是一个service。当然如果不用存储这个对象没用。 */ // private UserService userService; /* public UserListener()&#123; // 这里是demo，所以随便new一个。实际使用如果到了spring,请使用下面的有参构造函数 userService = new UserService(); &#125;*/ /** * 如果使用了spring,请使用这个构造方法。每次创建Listener的时候需要把spring管理的类传进来 * * @param userService */ /* public UserListener(UserService userService) &#123; this.userService = userService; &#125;*/ /** * 这个每一条数据解析都会来调用 * @param data * @param context * */ @Override public void invoke(UserExcel data, AnalysisContext context) &#123; log.info(\"解析到一条数据:&#123;&#125;\", data.getUserName()); list.add(data); if (list.size() &gt;= BATCH_COUNT) &#123; // 达到BATCH_COUNT了，需要去存储一次数据库，防止数据几万条数据在内存，容易OOM saveData(); // 存储完成清理 list list.clear(); &#125; &#125; @Override public void doAfterAllAnalysed(AnalysisContext context) &#123; saveData(); log.info(\"所有数据解析完成！\"); &#125; /** * 加上存储数据库 */ private void saveData() &#123; log.info(\"&#123;&#125;条数据，开始存储数据库！\", list.size()); // userService.saveBatch(list); log.info(\"存储数据库成功！\"); &#125;&#125; 2.5 controller测试12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package top.gmaya.demo.controller;import com.alibaba.excel.EasyExcel;import com.alibaba.excel.ExcelReader;import lombok.extern.slf4j.Slf4j;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RestController;import org.springframework.web.multipart.MultipartFile;import top.gmaya.demo.entity.User;import top.gmaya.demo.excelentity.UserExcel;import top.gmaya.demo.excelentity.UserListener;import top.gmaya.demo.util.ExcelUtil;import javax.servlet.http.HttpServletResponse;import java.util.ArrayList;import java.util.Date;import java.util.List;/** * @ Description : 测试 * @ Author : GMaya * @ CreateDate : 2020/1/15 16:55 * @ Version : 1.0 */@Slf4j @RestController public class DemoController &#123; /** * 导出excel * @param response */ @GetMapping(\"/export2Web\") public void export2Web(HttpServletResponse response, String id) &#123; // 模拟数据 List&lt;User&gt; list = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; 10; i++) &#123; User user = new User((long) i, \"张三\" + i, i, \"小三\" + i, \"杭州\" + i, new Date()); list.add(user); &#125; try &#123; ExcelUtil.export2Web(response, \"用户表\", \"用户信息\", UserExcel.class, list); &#125; catch (Exception e) &#123; log.error(\"报表导出异常:\", e); &#125; &#125; /** * 导入excel * @param file * @return */ @PostMapping(\"/exportImport\") public String exportImport(MultipartFile file) &#123; try &#123; ExcelUtil.readExcel(file, UserExcel.class, new UserListener()); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return \"succeed\"; &#125;&#125; 3. 测试3.1 导出测试启动项目，浏览器访问接口直接弹框提示保存位置。保存查看里面内容 3.2 导入测试使用postman测试文件导入key：Content-Typevalue：multipart/form-data","categories":[{"name":"后端开发","slug":"后端开发","permalink":"https://gmaya.top/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://gmaya.top/tags/Java/"},{"name":"工具类","slug":"工具类","permalink":"https://gmaya.top/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"}]},{"title":"建站心得","slug":"0110","date":"2020-01-10T13:20:33.000Z","updated":"2020-01-14T02:18:38.583Z","comments":false,"path":"2020/01/10/0110/","link":"","permalink":"https://gmaya.top/2020/01/10/0110/","excerpt":"从偶然发现个人博客开始，就开始着手搭建一个自己的博客网站，也许写不出什么有技术含量的东西，但是也图个新鲜，练练手，记录一下自己的成长经历！但是就是这个随手开始弄得网站，前前后后花了将近一个月，SO,我要将自己的过程记录下来！","text":"从偶然发现个人博客开始，就开始着手搭建一个自己的博客网站，也许写不出什么有技术含量的东西，但是也图个新鲜，练练手，记录一下自己的成长经历！但是就是这个随手开始弄得网站，前前后后花了将近一个月，SO,我要将自己的过程记录下来！ 1. 买服务器&lt;此步骤可以省略&gt;我是购买的腾讯云，首次大幅度优惠，99/年。当然，博客如果都是静态页面，也可以不需要服务器，直接部署到github，或者码云上，都是可以的（免费）。如果你只需要搭建博客不需要其他的，可以不买服务器，忽略即可。我是因为还要用服务器干点其他的。 2. 买域名&lt;此步骤可以省略&gt;我是在腾讯云打折5块钱买了一年的域名，虽然不买也行，用github自动生成的也中，但我不想要！ 2.1 备案使用国内服务器，域名不管是哪里的，都需要备案！反正我资料啥的一顿填，大概半个月备案成功！我刚开始买了之后大概一星期左右网站使用域名已经进不去了，一直让我去备案。 2.2 域名解析将域名解析到我的服务器 2.3 nginx代理我是使用的nginx代理的静态页面，然后将我生成好的博客页面直接放到服务器，配置好nginx的配置就ok，然后直接访问域名。当然也可以搞个tomcat放到里面。 2.4 SSL证书弄完之后我的访问域名是不安全的链接，所以我又免费申请了一个SSL证书，配置到nginx中，然后博客就可以https访问了。 3. hexo建站3.1 配置环境首先根据hexo官方网站将本地环境搭建起来，对于经常使用git提交拉取公司项目的人，很快都搞定了。 3.2 挑选模板直接在hexo官方网站挑选自己中意的博客模板，我默默挑了好多，中间改过好几次，总之挑一个自己喜欢的。 3.3 修改模板一般都是根据模板的博主介绍，一步一步一步一步一步一步修改成为自己的博客。总之我感觉这一步是最长的。 4. 写博客不积跬步，无以至千里；不积小流，无以成江海。在接下来的岁月写你想写的东西吧。","categories":[{"name":"自我抒写","slug":"自我抒写","permalink":"https://gmaya.top/categories/%E8%87%AA%E6%88%91%E6%8A%92%E5%86%99/"}],"tags":[{"name":"随笔","slug":"随笔","permalink":"https://gmaya.top/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"认识酷q","slug":"kuq-know","date":"2019-12-30T13:41:04.000Z","updated":"2020-01-19T07:07:28.651Z","comments":false,"path":"2019/12/30/kuq-know/","link":"","permalink":"https://gmaya.top/2019/12/30/kuq-know/","excerpt":"酷Q Air 是一个轻巧、免费、高效的机器人核心，功能需要安装“应用”实现。登录酷Q，完成教程后，建议 访问 酷Q应用发布板块，下载安装您所需要的应用，创造让大家喜爱并且属于你自己的专属机器人。","text":"酷Q Air 是一个轻巧、免费、高效的机器人核心，功能需要安装“应用”实现。登录酷Q，完成教程后，建议 访问 酷Q应用发布板块，下载安装您所需要的应用，创造让大家喜爱并且属于你自己的专属机器人。 酷q是干嘛的 酷Q Air 是一个轻巧、免费、高效的机器人核心，功能需要安装“应用”实现。登录酷Q，完成教程后，建议 访问 酷Q应用发布板块，下载安装您所需要的应用，创造让大家喜爱并且属于你自己的专属机器人。 官网：酷q社区 通俗的讲就是，打造一个属于自己的qq机器人，有点类似于现在的q群管家，qq小冰。但是你可以把他的功能再次扩大！（活跃群气氛必不可少）。主要有：入群欢迎，问答，便民（查天气，查快递等），各种小游戏娱乐，关键词禁言等等，需要看代码功底，当然你也可以去社区下载别人分享的插件，直接使用。 我也是在偶然的机会认识到了酷q，然后就爱不释手，从0开始学习了易语言，然后写出了第一个酷q插件猜拳签到游戏，当然我并不满足，然后又写出了查电影，问答，查运势，查天气，查新闻，随机笑话等，当然这些我并没有发布出来， 因为这些第三方接口我是免费用的，每天有限制几百条， 所以不适合分享，只是在自己的群里面使用而已。 如果你和我一样刚刚认识酷q，那么你不妨看一下这个快速入门使用sdk进行酷q开发。由于教程很多，我就没得写了，如果有不懂的可以留言评论或者到关于我页面查看联系方式。 但是我是java开发者，使用易语言难免有所不习惯，所以参考了南荒喵大佬的教程，使用支持java的sdk进行开发。 到了最后我在此demo上又加上mybatis-plus，springboot，连接数据库，等一系列操作。 有的时候思路是个好东西，当我弄完之后，我不知道写什么东西了，整天都是配环境，搭建环境，但是到最后写插件内容的时候，迷茫了，写什么呢，写什么好呢，写什么会有人用呢，看社区里面，那都是人家写出来的，你再写一遍干嘛呢。 好多东西都是 从简单，到复杂，到迷茫，到不知所措。（服务器自己买了一个，酷q是用的免费的） 然后我就认识了jsoup，百度百科是这样说的 jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。 然后我就又陷入了进去，忘记了游戏，忘记了时间。 希望前进的路上不再迷茫！","categories":[{"name":"酷q","slug":"酷q","permalink":"https://gmaya.top/categories/%E9%85%B7q/"}],"tags":[{"name":"酷q","slug":"酷q","permalink":"https://gmaya.top/tags/%E9%85%B7q/"}]},{"title":"idea在jdk1.8情况下使用反编译插件","slug":"idea-decompilation","date":"2019-12-30T05:41:01.000Z","updated":"2020-01-14T02:18:30.161Z","comments":false,"path":"2019/12/30/idea-decompilation/","link":"","permalink":"https://gmaya.top/2019/12/30/idea-decompilation/","excerpt":"使用JD-GUI在jdk1.8情况下失效，我也查找了好多办法，最后看到idea有默认的，只是没有打开，瞬间搞定，记录一下！","text":"使用JD-GUI在jdk1.8情况下失效，我也查找了好多办法，最后看到idea有默认的，只是没有打开，瞬间搞定，记录一下！ 没有反编译是显示compiled code 123public static void debug(java.lang.String... messages) &#123; /* compiled code */ &#125;public static void debug(java.lang.Object... messages) &#123; /* compiled code */ &#125; idea不需要安装任何插件， 比如JD-GUI（这个在jdk1.8还是打不开） 因为，安装idea默认有，只是没有打开罢了 打开setting –&gt;plugings 搜索 Java Bytecode Decompiler 勾选，然后重启idea （注意：你的其他反编译插件就不要开了，关掉） 重启之后会让你选择 是否同意使用此插件， 点击最左面accept，同意即可！","categories":[{"name":"自我抒写","slug":"自我抒写","permalink":"https://gmaya.top/categories/%E8%87%AA%E6%88%91%E6%8A%92%E5%86%99/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://gmaya.top/tags/Java/"},{"name":"idea插件","slug":"idea插件","permalink":"https://gmaya.top/tags/idea%E6%8F%92%E4%BB%B6/"}]},{"title":"Java性能测试大比拼","slug":"property-compare","date":"2019-12-28T15:23:56.000Z","updated":"2020-01-14T02:18:19.298Z","comments":false,"path":"2019/12/28/property-compare/","link":"","permalink":"https://gmaya.top/2019/12/28/property-compare/","excerpt":"实体类转换哪个快？Map循环遍历哪个快？转换为字符串哪个快？测试，分析，看源码，看底层知识。","text":"实体类转换哪个快？Map循环遍历哪个快？转换为字符串哪个快？测试，分析，看源码，看底层知识。 dao和vo实体转换比拼参与比拼的两个选手: org.springframework.beans.BeanUtils org.springframework.cglib.beans.BeanCopier 测试方式: 1234567891011121314151617181920public static void main(String[] args) &#123; int leng = 10000000; Stu stu = new Stu(); stu.setStuId(\"id\"); stu.setStuName(\"name\"); stu.setStuAge(12); stu.setStuClassId(\"ClassId\"); StuVO stuVO = new StuVO(); long l = System.currentTimeMillis(); for (int i = 0; i &lt; leng; i++) &#123; BeanCopier beanCopier = BeanCopier.create(stu.getClass(), stuVO.getClass(), false); beanCopier.copy(stu,stuVO,null); &#125; System.out.println(\"beanCopier.copy:\"+(System.currentTimeMillis()-l)); l = System.currentTimeMillis(); for (int i = 0; i &lt; leng; i++) &#123; BeanUtils.copyProperties(stu,stuVO); &#125; System.out.println(\"BeanUtils.copyProperties:\"+(System.currentTimeMillis()-l)); &#125; 比拼结果: 备注: 如果把BeanCopier.create放到循环外,效率还可以加快!!! 可能由于各方面原因,次数较少时测试不准 Map遍历几种方式比拼参与比拼的四个选手: keySet的for循环方式 keySet的iterator迭代器方式 entrySet的for循环方式 entrySet的iterator迭代器方式 测试方式: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667public static void main(String[] args) &#123; Map&lt;String, String&gt; map = new HashMap&lt;&gt;(); for (int i = 0; i &lt; 1; i++) &#123; map.put(i + \"\", i + \"AA\"); &#125; keySet(map); keySetIterator(map); entrySet(map); entrySetIterator(map); &#125; /** * keySet的for循环方式 * @param map */ public static void keySet(Map&lt;String, String&gt; map)&#123; long startTime = System.currentTimeMillis(); for (String key : map.keySet()) &#123; String value = map.get(key); &#125; long endTime = System.currentTimeMillis(); System.out.println(\"keySet运行时间\" + (endTime - startTime)); &#125; /** * keySet的iterator迭代器方式 * @param map */ public static void keySetIterator(Map&lt;String, String&gt; map)&#123; long startTime = System.currentTimeMillis(); Iterator&lt;String&gt; iterator = map.keySet().iterator(); while (iterator.hasNext()) &#123; String key = iterator.next(); String value = map.get(key); &#125; long endTime = System.currentTimeMillis(); System.out.println(\"keySetIterator运行时间\" + (endTime - startTime)); &#125; /** * entrySet的for循环方式 * @param map */ public static void entrySet(Map&lt;String, String&gt; map)&#123; long startTime = System.currentTimeMillis(); for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) &#123; String key = entry.getKey(); String value = entry.getValue(); &#125; long endTime = System.currentTimeMillis(); System.out.println(\"entrySet运行时间\" + (endTime - startTime)); &#125; /** * entrySet的iterator迭代器方式 * @param map */ public static void entrySetIterator(Map&lt;String, String&gt; map)&#123; long startTime = System.currentTimeMillis(); Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iterator = map.entrySet().iterator(); while (iterator.hasNext()) &#123; Map.Entry&lt;String, String&gt; entry = iterator.next(); String key = entry.getKey(); String value = entry.getValue(); &#125; long endTime = System.currentTimeMillis(); System.out.println(\"entrySetIterator运行时间\" + (endTime - startTime)); &#125; 比拼结果: 备注:可能由于各方面原因,次数较少时测试不准 基本数据类型转为字符串方法比拼参与比拼的三个选手: 基本数据类型.toString() String.valueOf(数据) 数据+”” 测试方法: 12345678910111213141516171819public static void main(String[] args) &#123; int end = 1000000000; Integer t = 1; long startTime = System.currentTimeMillis(); for (int i = 0; i &lt; end; i++)&#123; String str = t.toString(); &#125; System.out.println(\"Integer.toString()：\" + (System.currentTimeMillis() - startTime) + \"ms\"); startTime = System.currentTimeMillis(); for (int i = 0; i &lt; end; i++)&#123; String str = String.valueOf(t); &#125; System.out.println(\"String.valueOf()：\" + (System.currentTimeMillis() - startTime) + \"ms\"); startTime = System.currentTimeMillis(); for (int i = 0; i &lt; end; i++)&#123; String str = t + \"\"; &#125; System.out.println(\"t + '' :\" + (System.currentTimeMillis() - startTime) + \"ms\"); &#125; 比拼结果: 备注:可能由于各方面原因,次数较少时测试不准 123451.String.valueOf()方法底层调用了Integer.toString()方法，但是会在调用前做空判断2.Integer.toString()方法，直接调用3.t + \"\"底层使用了StringBuilder实现，先用append方法拼接，再用toString()方法获取字符串","categories":[{"name":"后端开发","slug":"后端开发","permalink":"https://gmaya.top/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://gmaya.top/tags/Java/"},{"name":"性能比较","slug":"性能比较","permalink":"https://gmaya.top/tags/%E6%80%A7%E8%83%BD%E6%AF%94%E8%BE%83/"}]},{"title":"Mybatis-plus之自动生成","slug":"Mybatis-plus","date":"2019-12-27T14:16:25.000Z","updated":"2020-01-14T02:18:12.005Z","comments":false,"path":"2019/12/27/Mybatis-plus/","link":"","permalink":"https://gmaya.top/2019/12/27/Mybatis-plus/","excerpt":"MyBatis-Plus（简称 MP）是一个 MyBatis 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。","text":"MyBatis-Plus（简称 MP）是一个 MyBatis 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。 1. 前言本文章首次是在csdn上写的，本次发布到自己的博客中，增添一点色彩。 点击查看Mybatis-plus官方文档 2. 创建spring boot 项目使用idea默认生成即可 … 3. 修改pom文件1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.baomidou&lt;/groupId&gt; &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt;&lt;/dependency&gt;&lt;!--mybatis-plus自动生成代码--&gt;&lt;dependency&gt; &lt;groupId&gt;com.baomidou&lt;/groupId&gt; &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt;&lt;/dependency&gt;&lt;!-- velocity 模版引擎 --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt; &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt; &lt;version&gt;2.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;!--lombok--&gt;&lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;1.16.16&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;!--swagger2--&gt;&lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt; 4. 修改application.yml文件123456789101112131415161718server: port: 8080spring: datasource: url: jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8 username: root password: admin driver-class-name: com.mysql.jdbc.Drivermybatis-plus: mapperLocations: classpath*:mapper/*.xml typeAliasesPackage: com.mybatis.plus.demo.model # mybatis 别名包扫描路径 global-config: db-config: logic-delete-value: 1 #逻辑已删除值(默认为 1) logic-not-delete-value: 0 # 逻辑未删除值(默认为 0) configuration: log-impl: org.apache.ibatis.logging.stdout.StdOutImpl #线上关闭sql日志打印 5. 修改启动类 6. 创建Mybatis-plus配置新建文件MyBatisPlusConfiguration 注意 : 如果使用mp自带的控制逻辑删除和控制版本号还有分页功能,则需要添加这个配置 12345678910111213141516171819202122232425262728293031323334353637package com.plus.demo.util;import com.baomidou.mybatisplus.extension.plugins.PaginationInterceptor;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import com.baomidou.mybatisplus.core.injector.ISqlInjector;import com.baomidou.mybatisplus.extension.injector.LogicSqlInjector;import com.baomidou.mybatisplus.extension.plugins.OptimisticLockerInterceptor;@Configurationpublic class MyBatisPlusConfiguration &#123; /** * 控制逻辑删除 * @return */ @Bean public ISqlInjector sqlInjector() &#123; return new LogicSqlInjector(); &#125; /** * 控制版本号 * @return */ @Bean public OptimisticLockerInterceptor optimisticLockerInterceptor() &#123; return new OptimisticLockerInterceptor(); &#125; /** * 分页插件 */ @Bean public PaginationInterceptor paginationInterceptor() &#123; return new PaginationInterceptor(); &#125;&#125; 7. 编写自动生成工具类注 : 直接把Controller/service/serviceImpl/dao/mapper/form/vo全部生成 此处使用默认velocity 模版引擎 则没有常用的crud方法,使用自己的模板则可以生成常用的crud方法 其中自定义模板中有工具类是公司自己的jar包,所以只推荐参考 拷贝mybatis-plus-generator jar包中的模板到自己项目resources下 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133package com.mybatis.plus.demo.util;import com.baomidou.mybatisplus.annotation.DbType;import com.baomidou.mybatisplus.annotation.IdType;import com.baomidou.mybatisplus.core.exceptions.MybatisPlusException;import com.baomidou.mybatisplus.core.toolkit.StringPool;import com.baomidou.mybatisplus.core.toolkit.StringUtils;import com.baomidou.mybatisplus.generator.AutoGenerator;import com.baomidou.mybatisplus.generator.InjectionConfig;import com.baomidou.mybatisplus.generator.config.*;import com.baomidou.mybatisplus.generator.config.converts.MySqlTypeConvert;import com.baomidou.mybatisplus.generator.config.po.TableInfo;import com.baomidou.mybatisplus.generator.config.rules.DbColumnType;import com.baomidou.mybatisplus.generator.config.rules.IColumnType;import com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;import java.util.ArrayList;import java.util.List;import java.util.Scanner;/** * 代码生成器 * */public class MabatisPlusGenerator &#123; private static String path = \"E:\\\\idea\\\\springboot-mybatis-plus\"; //文件路径 private static String table = \"tm_user\"; //table名字 public static void main(String[] args) &#123; //1. 全局配置 GlobalConfig config = new GlobalConfig(); config.setActiveRecord(false) // 是否支持AR模式 .setAuthor(\"GMaya\") // 作者 .setSwagger2(true) // 使用Swagger .setOutputDir(path + \"/src/main/java\") // 生成路径 .setFileOverride(true) // 文件覆盖 .setIdType(IdType.AUTO) // 主键策略 // 自定义文件命名，注意 %s 会自动填充表实体属性！ .setServiceName(\"%sService\").setServiceImplName(\"%sServiceImpl\") .setControllerName(\"%sController\").setMapperName(\"%sDao\").setXmlName(\"%sMapper\") .setOpen(false) // 生成文件后 不打开文件夹 .setBaseResultMap(true) // XML ResultMap .setBaseColumnList(true); // XML columList //2. 数据源配置 DataSourceConfig dsConfig = new DataSourceConfig(); dsConfig.setDbType(DbType.MYSQL) // 设置数据库类型 .setDriverName(\"com.mysql.jdbc.Driver\") .setUrl( \"jdbc:mysql://localhost:3306/test?characterEncoding=UTF-8\") .setUsername(\"root\").setPassword(\"admin\").setTypeConvert(new MySqlTypeConvert() &#123; @Override public IColumnType processTypeConvert(GlobalConfig globalConfig, String fieldType) &#123; if (fieldType.toLowerCase().contains(\"tinyint\")) &#123; return DbColumnType.BOOLEAN; &#125; //将数据库中datetime转换成date if (fieldType.toLowerCase().contains(\"datetime\")) &#123; return DbColumnType.DATE; &#125; return super.processTypeConvert(globalConfig, fieldType); &#125; &#125;); //3. 策略配置 StrategyConfig stConfig = new StrategyConfig(); stConfig.setColumnNaming(NamingStrategy.underline_to_camel) .setNaming(NamingStrategy.underline_to_camel) // 数据库表映射到实体的命名策略 .setEntityLombokModel(true) // 使用Lombok .setVersionFieldName(\"version\") // 数据库版本控制字段 .setLogicDeleteFieldName(\"status\") // 数据库逻辑删除字段 .setRestControllerStyle(true) .setSuperServiceClass(\"com.baomidou.mybatisplus.extension.service.IService\") .setInclude(new String[]&#123;table&#125;); // 生成的表 //4. 包名策略配置 PackageConfig pkConfig = new PackageConfig(); pkConfig.setParent(\"com.mybatis.plus.demo\").setMapper(\"dao\").setService(\"service\") .setServiceImpl(\"service.impl\").setController(\"controller\").setEntity(\"model\"); //5.自定义配置 InjectionConfig cfg = new InjectionConfig() &#123; @Override public void initMap() &#123; // to do nothing &#125; &#125;; String templatePath = \"/templates/mapper.xml.vm\"; // 如果模板引擎是 velocity List&lt;FileOutConfig&gt; focList = new ArrayList&lt;&gt;(); // 自定义输出配置 focList.add(new FileOutConfig(templatePath) &#123; // 自定义配置会被优先输出 @Override public String outputFile(TableInfo tableInfo) &#123; // mapper自定义输出文件名 return path + \"/src/main/resources/mapper/\" + tableInfo.getEntityName() + \"Mapper\" + StringPool.DOT_XML; &#125; &#125;); // ------------form vo 使用默认模板请注释-begin----------- templatePath = \"/templates/entityForm.java.vm\"; focList.add(new FileOutConfig(templatePath) &#123; // 自定义配置会被优先输出 @Override public String outputFile(TableInfo tableInfo) &#123; // form自定义输出文件名 return path + \"/src/main/java/com/mybatis/plus/demo/pojo/\" + tableInfo.getEntityName() + \"Form\" + StringPool.DOT_JAVA; &#125; &#125;); templatePath = \"/templates/entityVO.java.vm\"; focList.add(new FileOutConfig(templatePath) &#123; // 自定义配置会被优先输出 @Override public String outputFile(TableInfo tableInfo) &#123; // VO自定义输出文件名 return path + \"/src/main/java/com/mybatis/plus/demo/pojo/\" + tableInfo.getEntityName() + \"VO\" + StringPool.DOT_JAVA; &#125; &#125;); // ------------form vo 使用默认模板请注释-end----------- cfg.setFileOutConfigList(focList); // 6 配置模板 自定义模板/在resources/templates 可以编辑 TemplateConfig templateConfig = new TemplateConfig(); // 关闭默认 xml 生成，调整生成 至 根目录 templateConfig.setEntity(\"/templates/entity.java\").setService(\"/templates/service.java\") .setController(\"/templates/controller.java\").setMapper(\"/templates/mapper.java\") .setServiceImpl(\"/templates/serviceImpl.java\").setXml(null); //7. 整合配置 AutoGenerator ag = new AutoGenerator(); ag.setGlobalConfig(config).setDataSource(dsConfig).setStrategy(stConfig).setCfg(cfg) .setPackageInfo(pkConfig).setTemplate(templateConfig); //8. 执行 ag.execute(); &#125;&#125; 注 : 如果是使用自定义模板,请注意修改模板中的form,vo引入包路径等 使用默认模板请注释代码中生成form/vo代码 第一次运行可能有以下错误,如果没有请忽略 问题1 : The server time zone value ‘ÖÐ¹ú±ê×¼Ê±¼ä’ is unrecognized or represents 解决 : set global time_zone=’+8:00’ 问题2 : 使用Lombok插件,Idea,Eclipse必须安装改插件,否则找不到get/set方法 解决 : IDEA安装Lombok步骤 Eclipse的自行百度 /滑稽 修改文件路径表名之后运行 生成结构图如下 perfect ! ! !","categories":[{"name":"后端开发","slug":"后端开发","permalink":"https://gmaya.top/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://gmaya.top/tags/Java/"},{"name":"Mybatis-plus","slug":"Mybatis-plus","permalink":"https://gmaya.top/tags/Mybatis-plus/"}]},{"title":"Hello World","slug":"hello-world","date":"2019-12-16T14:16:00.000Z","updated":"2020-01-14T02:18:34.242Z","comments":false,"path":"2019/12/16/hello-world/","link":"","permalink":"https://gmaya.top/2019/12/16/hello-world/","excerpt":"我的第一篇文章必须是Hello World , 这是对编程最基本的尊重!","text":"我的第一篇文章必须是Hello World , 这是对编程最基本的尊重! 各种语言的Hello WorldJava1$ System.out.println(\"Hello,World!\"); 我说Java天下第一,你信么! C1$ printf(\"Hello,World!\"); C++1$ std::cout &lt;&lt; \"Hello,World!\" &lt;&lt; std::endl; Python1$ &gt;&gt;&gt; print(\"Hello,World!\") C#1$ Console.WriteLine(\"Hello,World!\"); PHP1$ echo \"Hello,World!\"; JavaScript12$ var sys = require(\"sys\"); sys.puts(\"Hello,World!\"); Ruby1$ puts \"Hello,World!\" R1$ print(\"Hello,World!\") SQL1$ select 'Hello,World!' from dual; HTML1$ &lt;p&gt;Hello,World!&lt;/p&gt; VB1$ MsgBox(\"Hello,World!\") Shell1$ echo \"Hello,World!\" Delphi1$ label1.Caption := 'Hello,World!'; TCL1$ % puts \"Hello,World!\" Pascal1$ writeln('Hello, world!') 我认输了, 我是菜鸟! 一个Hello, world! 打败我了","categories":[{"name":"后端开发","slug":"后端开发","permalink":"https://gmaya.top/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://gmaya.top/tags/Java/"}]}]}